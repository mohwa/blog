<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">

    <!-- viewport 설정 -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- keyword 설정 -->
    <meta name="keywords" content="javascript">
    <!-- description 설정 -->
    <meta name="description" content="JavaScript this context 알아보기" />

    <!-- open graph 설정 -->
    <meta property="og:type" content="mohwa blog">
    <meta property="og:title" content="This in JS">
    <meta property="og:description" content="JavaScript this context 알아보기">
    <!--<meta property="og:image" content="http://mysite.com/myimage.jpg">-->
    <meta property="og:url" content="/blog">

    <meta name="copyright" content="by mohwa" />

    <!--<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon" />-->

    <!-- google search console 설정 -->
    <link rel="alternate" hreflang="ko" href="http://mohwa.github.io" />
    <link rel="alternate" hreflang="ko" href="https://mohwa.github.io" />

    <link rel="stylesheet" href="/blog/assets/css/site.css" />
    <link rel="stylesheet" href="/blog/bower_components/highlightjs/styles/darkula.css">

    <script src="/blog/bower_components/jquery/dist/jquery.min.js" type="text/javascript"></script>
    <script src="/blog/bower_components/highlightjs/highlight.pack.min.js" type="text/javascript"></script>
    <script src="/blog/bower_components/purl/purl.js" type="text/javascript"></script>
    <!-- Script pointing to jekyll-search.js -->
    <script src="/blog/bower_components/simple-jekyll-search/dest/jekyll-search.js" type="text/javascript"></script>

    <title>This in JS</title>

    <script type="text/javascript">

        // code highlight 적용
        // https://highlightjs.org/static/demo/
        $(document).ready(function() {
            $('pre code').each(function(i, block) {
                hljs.highlightBlock(block);
            });
        });
    </script>
</head>

<body>

  <div class="top-bar"></div>

  <div class="container">
    <div class="site">
      <header>
        <nav>
    <span style="float:left;">
        <a class="" href="/blog/">Home</a>
        <!--<a class="" href="/archive/">전체글</a>-->
        <!--<a class="" href="//github.com/nolboo/nolboo.github.io/wiki">번역글 위키</a>-->
    </span>
    <span style="float:right;">
        <div id="search-container" class="search-container">
            <input type="text" id="search-input" class="search-input" placeholder="search...">
        </div>
    </span>
</nav>

        <div class="pull-right right logo">
          <div class="name"></div>
          <!--<a href="/feed.xml"><img class="avatar" src="/images/rss.jpg" alt="RSS" /></a>-->
        </div>
      </header>
      <div class="separator"></div>
      <ul id="results-container" class="results-container"></ul>
      <article>
  <h1>
    This in JS
  </h1>
  <div class="center">
    <p class="meta">14 Oct 2015</p>
  </div>



  <div class="post">
  <ul>
<li><p><span style="color:#6298c1">this</span> 값은 Execution Context 의 <strong>속성</strong> 중 하나이다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">ECStack</span> <span class="o">=</span> <span class="p">[</span>
  <span class="nx">globalExecutionContext</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">VO</span><span class="o">:</span> <span class="p">{</span>
    <span class="p">},</span>
    <span class="k">this</span><span class="o">:</span> <span class="nx">global</span> <span class="nx">object</span>
  <span class="p">}</span>
<span class="p">];</span>
</code></pre></div>
<p><img src="https://www.dropbox.com/s/qwq6esodeumm7qq/96.jpg?dl=1" alt=""></p></li>
<li><p><span style="color:#6298c1">this</span> 값은 <u>해당 Execution Context <strong>진입 시 초기화</strong>된 후</u>, 그 <strong>값</strong>이 변하지 않는다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// global Execution Context</span>

<span class="c1">// 실행 코드 처리 시 새로운 값을 할당할 수 없다.</span>
<span class="k">this</span><span class="p">.</span><span class="nb">window</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

<span class="c1">// 실행 코드 처리 후 값이 변하지 않는다.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nb">window</span><span class="p">);</span> <span class="c1">// global object</span>
</code></pre></div></li>
<li><p>레퍼런스 타입(Reference Type)</p>

<ul>
<li><p><strong>레퍼런스 타입</strong>은 base 와 propertyName <strong>속성</strong>을 가진 <strong>객체</strong>로 표현할 수 있으며, 설명을 목적으로 <strong>&quot;ECMA 스펙&quot;</strong> 에서 정의하고 있는 <strong>개념</strong>이다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">    <span class="c1">// 아래는 레퍼런스 타입을 나타내는 pseudo-code 이다.</span>
    <span class="kd">var</span> <span class="nx">valueOfReferenceType</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">base</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">base</span> <span class="nx">object</span><span class="o">&gt;</span><span class="p">,</span>
      <span class="nx">propertyName</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">property</span> <span class="nx">name</span><span class="o">&gt;</span>
    <span class="p">};</span>
</code></pre></div></li>
<li><p><strong>레퍼런스 타입</strong>은 오직 두 가지 경우에만 있을 수 있다.</p>

<ul>
<li><p><a href="http://www.devholic.net/1000687">식별자(identifier)</a></p>

<ul>
<li>식별자는 <strong>변수 이름</strong>, <strong>함수 이름</strong>, <strong>함수 Argument 이름</strong>으로 나뉜다.</li>
<li><p>변수 이름</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="c1">// global Execution Context</span>

  <span class="c1">// A 변수 선언</span>
  <span class="kd">var</span> <span class="nx">A</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">A</span><span class="p">);</span> <span class="c1">// 1              </span>
</code></pre></div></li>
<li><p>레퍼런스 타입 내부</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="kd">var</span> <span class="nx">AReference</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">base</span><span class="o">:</span> <span class="nx">global</span> <span class="nx">object</span><span class="p">,</span>
    <span class="nx">propertyName</span><span class="o">:</span> <span class="s1">&#39;A&#39;</span>
  <span class="p">};</span>
</code></pre></div></li>
<li><p>함수 이름</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// global Execution Context</span>

<span class="c1">// A 함수 선언</span>
<span class="kd">function</span> <span class="nx">A</span><span class="p">(){</span>

<span class="p">};</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">A</span><span class="p">);</span> <span class="c1">// A function object</span>
</code></pre></div></li>
<li><p>레퍼런스 타입 내부</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="kd">var</span> <span class="nx">AReference</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">base</span><span class="o">:</span> <span class="nx">global</span> <span class="nx">object</span><span class="p">,</span>
    <span class="nx">propertyName</span><span class="o">:</span> <span class="s1">&#39;A&#39;</span>
  <span class="p">};</span>
</code></pre></div></li>
<li><p><a href="https://es5.github.io/#x8.7.1">GetValue</a> 메서드</p>

<ul>
<li><p><u><strong>객체</strong>(레퍼런스 타입)의 실제 값을 얻기 위해 사용되는 <span style="color:#6298c1">GetValue</span> 메소드가 존재하며</u>, 이 메서드는 <strong>프로토타입 체인</strong>을 통해, 상속된 <strong>속성</strong>까지 모두 분석 후, <strong>객체 속성</strong>(propertyName)의 실제 값을 <strong>반환</strong>해준다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="c1">// GetValue 메서드를 나타내는 pseudo-code 이다.</span>
  <span class="kd">function</span> <span class="nx">GetValue</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">Type</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">!=</span> <span class="nx">Reference</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// 레퍼런스 타입이 아니면 값을 그대로 돌려준다.</span>
      <span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// base 속성 값을 가져온다.</span>
    <span class="kd">var</span> <span class="nx">base</span> <span class="o">=</span> <span class="nx">GetBase</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>

    <span class="c1">// base 속성 값이 null 인 경우</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">base</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nx">ReferenceError</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// propertyName 속성 값을 가져온다.</span>
    <span class="kd">var</span> <span class="nx">propertyName</span> <span class="o">=</span> <span class="nx">GetPropertyName</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>

    <span class="c1">// [[Get]] 메서드는 프로토타입 체인으로부터, 상속된 속성까지 모두 분석 후 속성의 실제 값을 돌려준다.</span>
    <span class="k">return</span> <span class="nx">base</span><span class="p">.[[</span><span class="nx">Get</span><span class="p">]](</span><span class="nx">propertyName</span><span class="p">);</span>

  <span class="p">}</span>

  <span class="nx">GetValue</span><span class="p">(</span><span class="nx">ReferenceType</span><span class="p">);</span>
</code></pre></div></li>
</ul></li>
</ul></li>
<li><p>프로퍼티 접근자(property accessor)</p>

<ul>
<li><p>obj 객체의 A 메서드</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="c1">// global Execution Context</span>

  <span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">A</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">A</span><span class="p">());</span> <span class="c1">// obj Object</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]());</span> <span class="c1">// obj Object</span>
</code></pre></div></li>
<li><p>레퍼런스 타입 내부</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="kd">var</span> <span class="nx">objAReference</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">base</span><span class="o">:</span> <span class="nx">obj</span> <span class="nb">Object</span><span class="p">,</span>
    <span class="nx">propertyName</span><span class="o">:</span> <span class="s1">&#39;A&#39;</span>
  <span class="p">};</span>
</code></pre></div></li>
<li><p><span style="color:#6298c1">GetValue</span> 메서드를 통해 해당 <strong>속성</strong>(propertyName) 값을 반환한다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">GetValue</span><span class="p">(</span><span class="nx">objAReference</span><span class="p">);</span> <span class="c1">// A function object</span>
</code></pre></div></li>
</ul></li>
</ul></li>
</ul></li>
<li><p>전역 코드 안의 <span style="color:#6298c1">this</span> 값</p>

<ul>
<li><p><strong>전역 코드</strong>안의 <span style="color:#6298c1">this</span> 는 <strong>전역 객체</strong> 자신이된다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="c1">// global code in global Execution Context</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span> <span class="c1">// global object</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nb">window</span><span class="p">);</span> <span class="c1">// global object</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span> <span class="o">===</span> <span class="k">this</span><span class="p">.</span><span class="nb">window</span><span class="p">);</span> <span class="c1">// true</span>
</code></pre></div></li>
</ul></li>
<li><p>함수 코드 안의 <span style="color:#6298c1">this</span> 값</p>

<ul>
<li><p><strong>함수 코드</strong>의 경우 <span style="color:#6298c1">this</span> 가 <u>가리키는 <strong>대상</strong>이 매번 달라질 수 있다</u>.</p>

<ul>
<li>Function Execution Context 진입 시 <span style="color:#6298c1">this</span> 가 가지는 <strong>초기화</strong> 값은 <u><strong>호출 표현식 형태</strong>에 의해 달라진다</u>.</li>
<li><p>함수 코드 안의 <span style="color:#6298c1">this</span> 값이 <strong>초기화</strong>되는 과정</p>

<ul>
<li>만약 ()(함수 호출 괄호) 왼편의 (<strong>식별자</strong> 또는 <strong>프로퍼티 접근자</strong>)가 <strong>레퍼런스 타입</strong>일경우, 함수 코드 안의 <span style="color:#6298c1">this</span> 값은 해당 <u><strong>레퍼런스 타입</strong>의 <strong>base</strong> 속성 값으로 <strong>초기화</strong>된다.</u><p></li>
<li>그러나 <strong>레퍼런스 타입</strong>이 아닌 경우, <span style="color:#6298c1">this</span> 값은 자동으로 <span style="color:#6298c1">null</span> 을 갖게되며, <u><span style="color:#6298c1">null</span> 은 <span style="color:#6298c1">this</span> 값으로 <strong>평가</strong>될 수 없기때문에, <strong>암묵적</strong>으로 <strong>전역 객체</strong>로 <strong>변환</strong>된다.</u><p></li>
<li><p>A 함수</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="c1">// global Execution Context</span>

  <span class="kd">function</span> <span class="nx">A</span><span class="p">(){</span>

    <span class="c1">// function Execution Context</span>
    <span class="c1">// this 값은 해당 레퍼런스 타입의 base 속성 값으로 초기화된다.</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span> <span class="c1">// global object</span>
  <span class="p">};</span>

  <span class="c1">// [호출자].[propertyName](호출괄호)</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">A</span><span class="p">();</span> <span class="c1">// this.A();</span>
</code></pre></div></li>
<li><p>레퍼런스 타입 <strong>체크</strong></p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="c1">// reference Type</span>
  <span class="kd">var</span> <span class="nx">AReference</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">base</span><span class="o">:</span> <span class="nx">global</span> <span class="nx">object</span><span class="p">,</span>
    <span class="nx">propertyName</span><span class="o">:</span> <span class="s1">&#39;A&#39;</span>
  <span class="p">};</span>

  <span class="c1">// referenceType 값을 반환한다.</span>
  <span class="nx">GetValue</span><span class="p">(</span><span class="nx">AReference</span><span class="p">);</span> <span class="c1">// A function object</span>
</code></pre></div></li>
<li><p>obj 객체의 X 메서드</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="c1">// global Execution Context</span>

  <span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">X</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
    <span class="p">}</span> 
  <span class="p">};</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">X</span><span class="p">());</span> <span class="c1">// obj Object</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]());</span> <span class="c1">// obj Object</span>
</code></pre></div></li>
<li><p>레퍼런스 타입 <strong>체크</strong></p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="c1">// reference Type</span>
  <span class="kd">var</span> <span class="nx">objXReference</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">base</span><span class="o">:</span> <span class="nx">obj</span> <span class="nb">Object</span><span class="p">,</span>
    <span class="nx">propertyName</span><span class="o">:</span> <span class="s1">&#39;X&#39;</span>
  <span class="p">};</span>

  <span class="c1">// referenceType 값을 반환한다.</span>
  <span class="nx">GetValue</span><span class="p">(</span><span class="nx">objXReference</span><span class="p">);</span> <span class="c1">// X function object</span>
</code></pre></div></li>
<li><p>obj 객체의 A 메서드를 x 변수에 <strong>할당</strong>한다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="c1">// global Execution Context</span>

  <span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">A</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="c1">// x 변수 선언</span>
  <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">A</span><span class="p">;</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">());</span> <span class="c1">// global object</span>
</code></pre></div></li>
<li><p>레퍼런스 타입 <strong>체크</strong></p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="c1">// reference Type</span>
  <span class="kd">var</span> <span class="nx">objAReference</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">base</span><span class="o">:</span> <span class="nx">obj</span> <span class="nb">Object</span><span class="p">,</span>
    <span class="nx">propertyName</span><span class="o">:</span> <span class="s1">&#39;A&#39;</span>
  <span class="p">};</span>

  <span class="c1">// reference Type</span>
  <span class="kd">var</span> <span class="nx">xReference</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">base</span><span class="o">:</span> <span class="nx">global</span> <span class="nx">object</span><span class="p">,</span>
    <span class="nx">propertyName</span><span class="o">:</span> <span class="s1">&#39;x&#39;</span>
  <span class="p">};</span>

  <span class="c1">// referenceType 값을 반환한다.</span>
  <span class="nx">GetValue</span><span class="p">(</span><span class="nx">xReference</span><span class="p">);</span> <span class="c1">// A function object</span>
</code></pre></div></li>
<li><p>레퍼런스 타입이 아닌 <strong>함수 표현식</strong>(즉시 실행 함수)</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="c1">// global Execution Context</span>

  <span class="c1">// 식별자 또는 프로퍼티 접근자가 아닌 함수 표현식</span>
  <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// 이 경우 레퍼런스 타입이 존재하지 않으므로, 결국 null 을 반환 후 자동으로 전역 객체로 변환된다.</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span> <span class="c1">// null =&gt; global object</span>
  <span class="p">})();</span>
</code></pre></div></li>
<li><p>레퍼런스 타입 <strong>체크</strong></p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="c1">// 식별자 또는 프로퍼티 접근자가 아닌 함수 표현식(즉시 실행 함수)은 reference Type 값이 존재하지 않는다.</span>
</code></pre></div></li>
<li><p><strong>함수 내부에 선언된 함수</strong></p>

<ul>
<li>A 함수 내부에 선언된 B 함수는 <span style="color:#c11f1f">AO</span>(VO) 가 갖는 <strong>속성</strong> 중 하나이다. 또한 <span style="color:#c11f1f">AO</span>(VO) 는 항상 <span style="color:#6298c1">this</span> 값을 <span style="color:#6298c1">null</span> 로 반환하기 때문에, 결국 B 함수 내부 <span style="color:#6298c1">this</span> 는 global object 를 갖게된다.(AO.B() === null.B())<p></li>
<li><p>The activation object always returns as this value — null (i.e. pseudo-code AO.bar() is equivalent to null.bar()). Here again we come back to the described above case, and again, this value is set to global object.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// global execution context</span>

<span class="kd">function</span> <span class="nx">A</span><span class="p">()</span> <span class="p">{</span>

  <span class="c1">// function Execution Context</span>

  <span class="kd">function</span> <span class="nx">B</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span> <span class="c1">// this === null =&gt; global object</span>
  <span class="p">}</span>

  <span class="nx">B</span><span class="p">();</span> <span class="c1">// AO.B() == null.B()</span>
<span class="p">}</span>

<span class="nx">A</span><span class="p">();</span>
</code></pre></div></li>
<li><p><span style="color:#c11f1f">ECStack</span> 내부</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="kd">var</span> <span class="nx">ECStack</span> <span class="o">=</span> <span class="p">[</span>
    <span class="o">&lt;</span><span class="nx">B</span><span class="o">&gt;</span> <span class="nx">activeFunctionExecutionContext</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">AO</span><span class="p">(</span><span class="nx">VO</span><span class="p">)</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">arguments</span><span class="o">:</span> <span class="p">{</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="k">this</span><span class="o">:</span> <span class="kc">null</span> <span class="o">==&gt;</span> <span class="nx">global</span> <span class="nb">Object</span>                          
    <span class="p">},</span>                      
    <span class="o">&lt;</span><span class="nx">A</span><span class="o">&gt;</span> <span class="nx">functionExecutionContext</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">AO</span><span class="p">(</span><span class="nx">VO</span><span class="p">)</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">arguments</span><span class="o">:</span> <span class="p">{</span>
        <span class="p">}</span>
        <span class="nx">B</span><span class="o">:</span> <span class="o">&lt;</span> <span class="nx">reference</span> <span class="nx">to</span> <span class="kd">function</span> <span class="o">&gt;</span>
      <span class="p">},</span>
      <span class="k">this</span><span class="o">:</span> <span class="nx">global</span> <span class="nb">Object</span>                          
    <span class="p">},</span>
    <span class="nx">globalExecutionContext</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">VO</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">A</span><span class="o">:</span> <span class="o">&lt;</span> <span class="nx">reference</span> <span class="nx">to</span> <span class="kd">function</span> <span class="o">&gt;</span>
      <span class="p">},</span>
      <span class="k">this</span><span class="o">:</span> <span class="nx">global</span> <span class="nx">object</span>                        
    <span class="p">}</span>
  <span class="p">];</span>
</code></pre></div></li>
<li><p>레퍼런스 타입 <strong>체크</strong></p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">    <span class="c1">// reference Type</span>
    <span class="kd">var</span> <span class="nx">BReference</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">base</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="nx">propertyName</span><span class="o">:</span> <span class="s1">&#39;B&#39;</span>
    <span class="p">};</span>

    <span class="c1">// referenceType 값을 반환한다.</span>
    <span class="nx">GetValue</span><span class="p">(</span><span class="nx">BReference</span><span class="p">);</span> <span class="c1">// B function object</span>
</code></pre></div></li>
</ul></li>
<li><p>생성자 함수 호출</p>

<ul>
<li><p>new 연산자의 <strong>객체 매커니즘</strong>에 따라 <span style="color:#6298c1">this</span> 값은 생성된 <strong>객체</strong>로 <strong>초기화</strong> 된다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="c1">// global Execution Context</span>

  <span class="kd">function</span> <span class="nx">A</span><span class="p">(){</span>

    <span class="c1">// function Execution Context</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="s1">&#39;mohwa&#39;</span><span class="p">;</span>

    <span class="c1">// new 연산자 + 생성자 함수를 통해 생성된 객체로 초기화된다.</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="k">this</span><span class="p">);</span> <span class="c1">// A object</span>
  <span class="p">}</span>

  <span class="c1">// 객체를 생성한다.</span>
  <span class="k">new</span> <span class="nx">A</span><span class="p">;</span>
</code></pre></div>
<p><img src="https://www.dropbox.com/s/4mkmvx22cmlo7ow/92.jpg?dl=1" alt=""></p></li>
<li><p>new 연산자 매커니즘 Pseudo-Code</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">A</span><span class="p">(){</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="s1">&#39;mohwa&#39;</span><span class="p">;</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="k">this</span><span class="p">);</span> <span class="c1">// A instance</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="nx">New</span><span class="p">(</span><span class="nx">A</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span> <span class="c1">// A instance</span>

<span class="c1">// new 연산자 구현</span>
<span class="kd">function</span> <span class="nx">New</span><span class="p">(</span><span class="nx">constructor</span><span class="p">)</span> <span class="p">{</span>

  <span class="nx">constructor</span> <span class="o">=</span> <span class="nx">constructor</span> <span class="o">||</span> <span class="kd">function</span> <span class="nx">F</span><span class="p">(){};</span>

  <span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{};</span>

  <span class="c1">// 전달받은 생성자 함수 객체의 원형을 o 객체의 원형으로 위임한다.</span>
  <span class="nx">o</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">=</span> <span class="nx">constructor</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span>

  <span class="c1">// 생성자 함수 객체의 this 값을 o 객체로 초기화한다.</span>
  <span class="nx">constructor</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span>

  <span class="k">return</span> <span class="nx">o</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p><img src="https://www.dropbox.com/s/j4xkyq7ixpdvcbf/93.jpg?dl=1" alt=""></p></li>
</ul></li>
<li><p>함수 호출 시 <span style="color:#6298c1">this</span> 값을 <strong>초기화</strong> 하는 방법</p>

<ul>
<li>Function.prototype <strong>객체</strong> 메서드인 <span style="color:#6298c1">call</span> 과 <span style="color:#6298c1">apply</span> 메서드를 통해, 함수 호출 시 <span style="color:#6298c1">this</span> 값을 <strong>초기화</strong>할 수 있다.<p></li>
<li><p><span style="color:#6298c1">call</span> 메서드를 통해 전달된 <strong>객체</strong>로 <span style="color:#6298c1">this</span> 값을 <strong>초기화</strong>한다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">A</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">){</span>

  <span class="c1">// function execution context</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="k">this</span><span class="p">);</span> <span class="c1">// obj Object</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span> <span class="c1">// 1</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">y</span><span class="p">);</span> <span class="c1">// 2</span>

<span class="p">}</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;mohwa&#39;</span>
<span class="p">};</span>

<span class="c1">// A 함수 객체의 this 값을 obj 객체로 초기화 한다.</span>
<span class="nx">A</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</code></pre></div></li>
<li><p><span style="color:#6298c1">apply</span> 메서드를 통해 전달된 <strong>객체</strong>로 <span style="color:#6298c1">this</span> 값을 <strong>초기화</strong>한다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">A</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">){</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="k">this</span><span class="p">);</span> <span class="c1">// obj Object</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span> <span class="c1">// 1</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">y</span><span class="p">);</span> <span class="c1">// 2</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;mohwa&#39;</span>
<span class="p">};</span>

<span class="c1">// A 함수 객체의 this 값을 obj 객체로 초기화 한다.</span>
<span class="nx">A</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]);</span>
</code></pre></div>
<h2 id="url">참고 URL</h2></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li><p><a href="http://dmitrysoshnikov.com/ecmascript/chapter-3-this/#function-call-and-non-reference-type">ECMA-262-3 IN DETAIL. CHAPTER 3. THIS</a></p></li>
<li><p><a href="http://huns.me/ecma-262-3-in-detail-chapter-3-this/">ECMA-262-3 IN DETAIL. CHAPTER 3. THIS(번역)</a></p></li>
<li><p><a href="http://www.nextree.co.kr/p7522/">this 키워드</a></p></li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this">this</a></p></li>
<li><p><a href="http://mobicon.tistory.com/189">var _this this 의미 배우기</a></p></li>
</ul>

  </div>
  <div data-count="10" id="recommend-article"></div>
</article>

<section class="post-footer">
  <div class="related-posts">
    <div class="related-posts-title"><h2>Related Posts</h2></div>
    <div class="related-posts-list">
      <ul>
        
          <!-- match 를 false 로 초기화한다 -->
          <!---->
          
          <!-- 현재 page.categories === category 와 동일하다면. -->
          
              <li><a href="/blog/javascript/2016/04/21/es6-object-literal/" title="ES6 object initializer">ES6 object initializer</a></li>
          
          
          <!---->
        
          <!-- match 를 false 로 초기화한다 -->
          <!---->
          
          <!-- 현재 page.categories === category 와 동일하다면. -->
          
              <li><a href="/blog/javascript/2016/03/24/es6-destructuring-assignment/" title="ES6 Destructuring assignment">ES6 Destructuring assignment</a></li>
          
          
          <!---->
        
          <!-- match 를 false 로 초기화한다 -->
          <!---->
          
          <!-- 현재 page.categories === category 와 동일하다면. -->
          
              <li><a href="/blog/javascript/2016/02/24/es6-const/" title="ES6 const">ES6 const</a></li>
          
          
          <!---->
        
          <!-- match 를 false 로 초기화한다 -->
          <!---->
          
          <!-- 현재 page.categories === category 와 동일하다면. -->
          
              <li><a href="/blog/javascript/2016/02/23/es6-let/" title="ES6 let">ES6 let</a></li>
          
          
          <!---->
        
          <!-- match 를 false 로 초기화한다 -->
          <!---->
          
          <!-- 현재 page.categories === category 와 동일하다면. -->
          
              <li><a href="/blog/javascript/2016/02/18/es6-arrow-function/" title="ES6 Arrow Function & This Test">ES6 Arrow Function & This Test</a></li>
          
          
          <!---->
        
          <!-- match 를 false 로 초기화한다 -->
          <!---->
          
          <!-- 현재 page.categories === category 와 동일하다면. -->
          
              <li><a href="/blog/javascript/2016/02/15/es6-class/" title="ES6 Class #1">ES6 Class #1</a></li>
          
          
          <!---->
        
          <!-- match 를 false 로 초기화한다 -->
          <!---->
          
          <!-- 현재 page.categories === category 와 동일하다면. -->
          
              <li><a href="/blog/javascript/2016/02/05/proto/" title="__proto__ 속성과 프로토타입 위임 과정">__proto__ 속성과 프로토타입 위임 과정</a></li>
          
          
          <!---->
        
      </ul>
    </div>
  </div>
</section>

<section class="comments">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'mohwa'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</section>



      <div class="separator"></div>
    </div>
  </div>
  <footer>
    <section>
  <ul class="links">
      <li><a href="https://twitter.com/yanione" title="follow me" target="_blank"><i class="icon-twitter"></i></a></li>
      <li><a href="https://github.com/mohwa" title="github page" target="_blank"><i class="icon-github"></i></a></li>
  </ul>
<section>

  </footer>
  <script>
    <!-- Google Analytics -->
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-30470280-2', 'auto');
    ga('send', 'pageview');

    // include jekyll full text search
    // https://github.com/christian-fei/Simple-Jekyll-Search
    SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('results-container'),
      json: '/blog/search.json',
      searchResultTemplate: '<li><a href="{href}">{title}</a>&nbsp;&nbsp;&nbsp;{date}</li>',
      noResultsText: 'No results found'
    });

  </script>
  <script src="http://b.readtrend.com/j/s.js"></script>
</body>
</html>
