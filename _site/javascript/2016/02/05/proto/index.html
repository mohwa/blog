<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">

    <!-- viewport 설정 -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- keyword 설정 -->
    <meta name="keywords" content="javascript">
    <!-- description 설정 -->
    <meta name="description" content="__proto__ 속성과 프로토타입 위임 과정" />

    <!-- open graph 설정 -->
    <meta property="og:type" content="mohwa blog">
    <meta property="og:title" content="__proto__ 속성과 프로토타입 위임 과정">
    <meta property="og:description" content="__proto__ 속성과 프로토타입 위임 과정">
    <!--<meta property="og:image" content="http://mysite.com/myimage.jpg">-->
    <meta property="og:url" content="/blog">

    <meta name="copyright" content="by mohwa" />

    <!--<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon" />-->

    <!-- google search console 설정 -->
    <link rel="alternate" hreflang="ko" href="http://mohwa.github.io" />
    <link rel="alternate" hreflang="ko" href="https://mohwa.github.io" />

    <link rel="stylesheet" href="/blog/assets/css/site.css" />
    <link rel="stylesheet" href="/blog/bower_components/highlightjs/styles/darkula.css">

    <script src="/blog/bower_components/jquery/dist/jquery.min.js" type="text/javascript"></script>
    <script src="/blog/bower_components/highlightjs/highlight.pack.min.js" type="text/javascript"></script>
    <script src="/blog/bower_components/purl/purl.js" type="text/javascript"></script>
    <!-- Script pointing to jekyll-search.js -->
    <script src="/blog/bower_components/simple-jekyll-search/dest/jekyll-search.js" type="text/javascript"></script>

    <title>__proto__ 속성과 프로토타입 위임 과정</title>

    <script type="text/javascript">

        // code highlight 적용
        // https://highlightjs.org/static/demo/
        $(document).ready(function() {
            $('pre code').each(function(i, block) {
                hljs.highlightBlock(block);
            });
        });
    </script>
</head>

<body>

  <div class="top-bar"></div>

  <div class="container">
    <div class="site">
      <header>
        <nav>
    <span style="float:left;">
        <a class="" href="/blog/">Home</a>
        <!--<a class="" href="/archive/">전체글</a>-->
        <!--<a class="" href="//github.com/nolboo/nolboo.github.io/wiki">번역글 위키</a>-->
    </span>
    <span style="float:right;">
        <div id="search-container" class="search-container">
            <input type="text" id="search-input" class="search-input" placeholder="search...">
        </div>
    </span>
</nav>

        <div class="pull-right right logo">
          <div class="name"></div>
          <!--<a href="/feed.xml"><img class="avatar" src="/images/rss.jpg" alt="RSS" /></a>-->
        </div>
      </header>
      <div class="separator"></div>
      <ul id="results-container" class="results-container"></ul>
      <article>
  <h1>
    __proto__ 속성과 프로토타입 위임 과정
  </h1>
  <div class="center">
    <p class="meta">05 Feb 2016</p>
  </div>



  <div class="post">
  <h2 id="1">1. 글에 대해</h2>

<ul>
<li><p>이 글은 (JS 위임 과정의 이해를 돕기 위한 글이 아닌)최근 시작한 <a href="https://www.facebook.com/groups/es567/">ES567 스터디 그룹</a>의 연구 과제를 위해 작성된 글이다.</p>

<ul>
<li><em>그 이해를 돕기위한 내용은 이 <a href="http://mohwa.github.io/blog/javascript/2015/10/16/prototype/">글</a>을 참고할 수 있다.</em><p></li>
</ul></li>
<li><p>즉 글 전반적으로 <a href="http://krdic.naver.com/detail.nhn?docid=20817000">서술</a>된 글이 아닌, 테스트 코드와 그에 대한 주석을 통해 설명하고있다.</p></li>
</ul>

<h2 id="2">2. 위임(과정) 이란?</h2>

<ul>
<li><p>결국 객체들간의 <span style="color:#c11f1f">원형 복제 과정</span>을 말한다.(이 말을 잘 기억해두길 바란다)</p>

<ul>
<li><h3 id=">(생성자)<span style="color:#c11f1f">함수</span> (객체)를 통한 위임 과정</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// global execution context</span>

<span class="c1">// A 함수 객체를 선언한다.</span>
<span class="kd">function</span> <span class="nx">A</span><span class="p">(){</span>

    <span class="c1">// function execution context</span>

<span class="p">}</span>

<span class="c1">// A 함수 객체의 prototype 프로퍼티로 포함된 원형 객체(이후 newAObject 객체로 위임될 객체이기도 하다)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">A</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>

<span class="c1">// new 연산자와 A (생성자)함수 (객체)를 통해 새로운 객체가 생성된다.</span>
<span class="kd">var</span> <span class="nx">newAObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">A</span><span class="p">;</span>

<span class="c1">// newAObject 객체의 __proto__ (내부)속성은, A.prototype (원형)객체를 참조하고있다.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newAObject</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">A</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span> <span class="c1">// true</span>

<span class="c1">// newAObject 객체의 (생성자)함수인 A 함수 (객체)를 반환한다.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newAObject</span><span class="p">.</span><span class="nx">constructor</span><span class="p">);</span> <span class="c1">// A function object</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newAObject</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">===</span> <span class="nx">A</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span><span class="p">);</span> <span class="c1">// true</span>

<span class="c1">// newAObject 객체의 prototype chain 에는 A.prototype 객체가 존재하므로 아래 코드를 통해 true 를 반환하게 된다.</span>

<span class="c1">// instanceof 연산자는 왼쪽 파라메터로 전달된 객체(newAObject)의 prototype chain 내부에, 오른쪽 파라메터로 전달된 함수 객체(A)의 prototype 프로퍼티가 존재한다면 true 를 반환하게된다.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newAObject</span> <span class="k">instanceof</span> <span class="nx">A</span><span class="p">);</span> <span class="c1">// true</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="nx">newAObject</span><span class="p">);</span>
</code></pre></div>
<p><img src="/blog/assets/images/posts/20160203/class_00.png" alt=""></p>

<h2 id=">정리</h2>

<ul>
<li>선언된 A 함수 객체는 <span style="color:#c11f1f">prototype</span> 이라는 (원형)<span style="color:#c11f1f">객체</span>를 가지고 있다.<p></li>
<li><span style="color:#c11f1f">new</span> 연산자를 통해 객체 생성시, A.prototype 객체는 newAObject 객체의 __proto__ (내부)속성으로 <span style="color:#c11f1f">위임</span>된다.<p></li>
<li>예상했던 결과와 같이, newAObject.constructor 속성은 (생성자)함수인 A 함수 객체를 참조하고 있다.<p></li>
</ul>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/instanceof">instanceof 연산자</a><br><br><br><br></p></li>
<li><h3 id="object"><span style="color:#c11f1f">객체</span>(Object)를 통한 위임 과정</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// A 객체를 생성한다.</span>
<span class="kd">var</span> <span class="nx">A</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="nx">getId</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">setId</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">id</span><span class="p">){</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// A.id 값을 초기화한다.</span>
<span class="nx">A</span><span class="p">.</span><span class="nx">setId</span><span class="p">(</span><span class="s1">&#39;yanione&#39;</span><span class="p">);</span>

<span class="c1">// B 함수 객체를 선언한다.</span>
<span class="kd">function</span> <span class="nx">B</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>

    <span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// B.prototype 객체 프로퍼티에 getName 메서드를 할당한다.</span>
<span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// B.prototype 객체가 가진 맴버들을, 위임할 객체(_A Object)에 추가하기위해, (임시)변수에 저장해둔다.</span>
<span class="kd">var</span> <span class="nx">__prototype__</span> <span class="o">=</span> <span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span>

<span class="c1">// 위임할 A 객체를 복제한다.</span>
<span class="kd">var</span> <span class="nx">_A</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="nx">A</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span>
    <span class="nx">getId</span><span class="o">:</span> <span class="nx">A</span><span class="p">.</span><span class="nx">getId</span>
<span class="p">};</span>

<span class="c1">// 복제된 _A 객체를 B.prototype 객체 프로퍼티로 위임한다.</span>
<span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">_A</span><span class="p">;</span>

<span class="c1">// __prototype__ 변수에 저장된 객체 맴버를, B.prototype 객체로 재 할당한다.</span>
<span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getName</span> <span class="o">=</span> <span class="nx">__prototype__</span><span class="p">.</span><span class="nx">getName</span><span class="p">;</span>

<span class="c1">//B.prototype.constructor = B;</span>

<span class="c1">// newBObject 객체를 생성한다.</span>
<span class="kd">var</span> <span class="nx">newBObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">B</span><span class="p">(</span><span class="s1">&#39;mohwa&#39;</span><span class="p">);</span>

<span class="c1">// newBObject.__proto__ 속성은 B.prototype 객체를 참조하고 있다.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span> <span class="c1">// true</span>

<span class="c1">// B.prototype 객체 프로퍼티는 복제된 _A 객체를 참조하고 있다.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">_A</span><span class="p">);</span> <span class="c1">// true</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span><span class="p">.</span><span class="nx">getId</span><span class="p">());</span> <span class="c1">// yanione</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span><span class="p">.</span><span class="nx">getName</span><span class="p">());</span> <span class="c1">// mohwa</span>

<span class="c1">// instanceof 연산자 테스트</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="c1">// instanceof 연산자의 오른쪽 파라메터에는 반드시 함수 객체가 위치해야한다.</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span> <span class="k">instanceof</span> <span class="nx">_A</span><span class="p">);</span> <span class="c1">// error</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
    <span class="c1">// 에러가 발생한다.</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span> <span class="c1">// Expecting a function in instanceof check, but got #&lt;Object&gt;</span>
<span class="p">}</span>

<span class="c1">// newBObject 객체의 prototype chain 에는 B.prototype 객체가 존재하므로 아래 코드를 통해 true 를 반환하게 된다.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span> <span class="k">instanceof</span> <span class="nx">B</span><span class="p">);</span> <span class="c1">// true</span>

<span class="c1">// _A 객체의 위임 과정으로인해, newBObject.constructor 속성은 Object 함수 객체를 반환하게된다.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span><span class="p">.</span><span class="nx">constructor</span><span class="p">);</span> <span class="c1">// Object function object</span>
</code></pre></div>
<p><img src="/blog/assets/images/posts/20160203/class_01.png" alt=""></p>

<h2 id=">정리</h2>

<ul>
<li><span style="color:#c11f1f">_A 객체</span>의 <span style="color:#c11f1f">위임</span> 과정으로인해, newBObject.constructor 속성은 (생성자)함수인 B 함수 객체가 아닌, <span style="color:#c11f1f">Object (생성자)함수 객체</span>를 참조하게된다.</li>
<li><p>위 상황을 <span style="color:#c11f1f">우회</span>(명확한 해결책은 아닌)하기 위해, 아래와 같은 코드를 추가할 수 있다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"> <span class="c1">// B.prototype 객체에 constructor 속성을 추가시킨다.</span>
 <span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">=</span> <span class="nx">B</span><span class="p">;</span>
</code></pre></div>
<p><br><br><br><br></p></li>
</ul></li>
<li><h3 id="new"><span style="color:#c11f1f">new</span> 연산자를 통한 위임 과정</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// A 함수 객체를 선언한다.</span>
<span class="kd">function</span> <span class="nx">A</span><span class="p">(</span><span class="nx">id</span><span class="p">){</span>

    <span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">A</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getId</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// B 함수 객체를 선언한다.</span>
<span class="kd">function</span> <span class="nx">B</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>

    <span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">__prototype__</span> <span class="o">=</span> <span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">newAObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">A</span><span class="p">(</span><span class="s1">&#39;yanione&#39;</span><span class="p">);</span>

<span class="c1">// newAObject 객체를 B.prototype 객체 프로퍼티에 할당한다.</span>
<span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">newAObject</span><span class="p">;</span>

<span class="c1">//B.prototype.constructor = B;</span>

<span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getName</span> <span class="o">=</span> <span class="nx">__prototype__</span><span class="p">.</span><span class="nx">getName</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">newBObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">B</span><span class="p">(</span><span class="s1">&#39;mohwa&#39;</span><span class="p">);</span>

<span class="c1">// newBObject.__proto__.__proto__ 속성은 A.prototype 객체를 참조하고있다.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span><span class="p">.</span><span class="nx">__proto__</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">A</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span> <span class="c1">// true</span>

<span class="c1">// 즉 newBObject.__proto__.__proto__(A.prototype) 속성은 newAObject.__proto__(A.prototype) 속성과 동일하다.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span><span class="p">.</span><span class="nx">__proto__</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">newAObject</span><span class="p">.</span><span class="nx">__proto__</span><span class="p">);</span> <span class="c1">// true</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span><span class="p">.</span><span class="nx">getId</span><span class="p">());</span> <span class="c1">// &#39;&#39;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span><span class="p">.</span><span class="nx">getName</span><span class="p">());</span> <span class="c1">// mohwa</span>

<span class="c1">// newBObject 객체의 prototype chain 에는 B.prototype 객체가 존재하므로 true 를 반환하게된다.</span>

<span class="c1">// newBObject.__proto__ === B.prototype</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span> <span class="k">instanceof</span> <span class="nx">B</span><span class="p">);</span> <span class="c1">// true</span>

<span class="c1">// newBObject 객체의 prototype chain 에는 A.prototype 객체도 존재하므로 true 를 반환하게된다.</span>

<span class="c1">// newBObject.__proto__.__proto__ === A.prototype</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span> <span class="k">instanceof</span> <span class="nx">A</span><span class="p">);</span> <span class="c1">// true</span>

<span class="c1">// new A 객체의 위임 과정으로인해 newBObject.constructor 속성은 A 함수 객체를 참조하게된다.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span><span class="p">.</span><span class="nx">constructor</span><span class="p">);</span> <span class="c1">// A function object</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span><span class="p">);</span>
</code></pre></div>
<p><img src="/blog/assets/images/posts/20160203/class_02.png" alt=""></p>

<h2 id=">정리</h2>

<ul>
<li>newBObject 객체 prototype chain 에는 <span style="color:#c11f1f">A.prototype 객체</span>와 <span style="color:#c11f1f">B.prototype 객체</span> 프로퍼티가 모두 존재하며, <span style="color:#c11f1f">instanceof 연산자</span>를 통해 모두 <span style="color:#c11f1f">true</span> 를 반환하게된다.<p></li>
<li><span style="color:#c11f1f">new A</span> 객체의 <span style="color:#c11f1f">위임</span> 과정으로인해, newBObject.constructor 속성은 B (생성자)함수 객체가 아닌, <span style="color:#c11f1f">A 함수</span> 객체를 참조하게된다.<br><br><br><br></li>
</ul></li>
<li><h3 id="object-create"><span style="color:#c11f1f">Object.create</span> 메서드를 통한 위임 과정</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// A 함수 객체를 선언한다.</span>
<span class="kd">function</span> <span class="nx">A</span><span class="p">(</span><span class="nx">id</span><span class="p">){</span>

    <span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">A</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getId</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// B 함수 객체를 선언한다.</span>
<span class="kd">function</span> <span class="nx">B</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>

    <span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">__prototype__</span> <span class="o">=</span> <span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span>

<span class="c1">// Object.create 메서드를 통해 A.prototype 객체가 위임된, 새로운 객체가 생성된다.</span>
<span class="cm">/*</span>

<span class="cm">    {</span>
<span class="cm">       __proto__: A.prototype</span>
<span class="cm">    }</span>
<span class="cm">*/</span>
<span class="kd">var</span> <span class="nx">newObject</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">A</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>

<span class="c1">// B.prototype 객체에 Object.create 메서드를 통해 생성된 객체를 할당한다.</span>
<span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">newObject</span><span class="p">;</span>

<span class="c1">//B.prototype.constructor = B;</span>

<span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getName</span> <span class="o">=</span> <span class="nx">__prototype__</span><span class="p">.</span><span class="nx">getName</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">newBObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">B</span><span class="p">(</span><span class="s1">&#39;mohwa&#39;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span><span class="p">.</span><span class="nx">getId</span><span class="p">());</span> <span class="c1">// undefined</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span><span class="p">.</span><span class="nx">getName</span><span class="p">());</span> <span class="c1">// mohwa</span>

<span class="c1">// Object.create 메서드를 통한 위임 과정으로인해, newBObject.constructor 속성은 A 함수 객체를 참조하게된다.</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span><span class="p">.</span><span class="nx">constructor</span><span class="p">);</span> <span class="c1">// A function object</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span><span class="p">);</span>
</code></pre></div>
<p><img src="/blog/assets/images/posts/20160203/class_03.png" alt=""></p>

<h2 id=">정리</h2>

<ul>
<li><span style="color:#c11f1f">Object.create</span> 메서드를 통해 <span style="color:#c11f1f">new</span> 연산자를 통해서만 가능했던 <span style="color:#c11f1f">위임</span> 과정을 구현했다.<p></li>
<li><span style="color:#c11f1f">Object.create</span> 메서드를 통한 위임 과정으로인해, newBObject.constructor 속성은 B (생성자)함수 객체가 아닌, <span style="color:#c11f1f">A 함수</span> 객체를 참조하게된다.<p></li>
<li><span style="color:#c11f1f">Object.create</span> 메서드를 통한 위임 과정으로인해, 인스턴스 맴버인 <span style="color:#c11f1f">id</span> 속성을 초기화하지 못했다.(<em>반드시 <span style="color:#c11f1f">new</span> 연산자를 통해서만 인스턴스 맴버를 초기화할 수 있다</em>)<br><br><br><br></li>
</ul></li>
<li><h3 id="object-create">(인스턴스 맴버를 초기화하는)<span style="color:#c11f1f">Object.create</span> 메서드를 통한 위임 과정</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// A 함수 객체를 선언한다.</span>
<span class="kd">function</span> <span class="nx">A</span><span class="p">(</span><span class="nx">id</span><span class="p">){</span>

    <span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">A</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getId</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// B 함수 객체를 선언한다.</span>
<span class="kd">function</span> <span class="nx">B</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">name</span><span class="p">){</span>

    <span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>

    <span class="c1">// call 메서드를 통해 A (생성자)함수 객체가 가진 인스턴스 맴버를 초기화한다.</span>
    <span class="nx">A</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">id</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">__prototype__</span> <span class="o">=</span> <span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">newObject</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">A</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>

<span class="c1">// B.prototype 객체에 Object.create 메서드를 통해 생성된 객체를 할당한다.</span>
<span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">newObject</span><span class="p">;</span>

<span class="c1">//B.prototype.constructor = B;</span>

<span class="nx">B</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getName</span> <span class="o">=</span> <span class="nx">__prototype__</span><span class="p">.</span><span class="nx">getName</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">newBObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">B</span><span class="p">(</span><span class="s1">&#39;yanione&#39;</span><span class="p">,</span> <span class="s1">&#39;mohwa&#39;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span><span class="p">.</span><span class="nx">getId</span><span class="p">());</span> <span class="c1">// yanione</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span><span class="p">.</span><span class="nx">getName</span><span class="p">());</span> <span class="c1">// mohwa</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newBObject</span><span class="p">);</span>
</code></pre></div>
<p><img src="/blog/assets/images/posts/20160203/class_04.png" alt=""></p>

<h2 id=">정리</h2>

<ul>
<li><span style="color:#c11f1f">call</span> 메서드를 통해 <span style="color:#c11f1f">B</span> (생성자)함수 객체 호출 시 생성된 <span style="color:#c11f1f">인스턴스 맴버</span>로, <span style="color:#c11f1f">A</span> (생성자) 함수 객체의 <span style="color:#c11f1f">인스턴스 맴버</span>인 <span style="color:#c11f1f">id</span> 속성이 초기화되었다.<p><br></li>
</ul></li>
</ul></li>
</ul>

<h2 id="url">관련 URL</h2>

<ul>
<li><p><a href="http://ddoong2.com/314">(객체지향) 비슷한것 같으면서도 다른 Attribute와 Property의 차이점</a><p /></p></li>
<li><p><a href="http://unikys.tistory.com/320">[속깊은 자바스크립트 강좌] 상속, new와 Object.create의 차이</a><p /></p></li>
</ul>

  </div>
  <div data-count="10" id="recommend-article"></div>
</article>

<section class="post-footer">
  <div class="related-posts">
    <div class="related-posts-title"><h2>Related Posts</h2></div>
    <div class="related-posts-list">
      <ul>
        
          <!-- match 를 false 로 초기화한다 -->
          <!---->
          
          <!-- 현재 page.categories === category 와 동일하다면. -->
          
              <li><a href="/blog/javascript/2016/04/21/es6-object-literal/" title="ES6 object initializer">ES6 object initializer</a></li>
          
          
          <!---->
        
          <!-- match 를 false 로 초기화한다 -->
          <!---->
          
          <!-- 현재 page.categories === category 와 동일하다면. -->
          
              <li><a href="/blog/javascript/2016/03/24/es6-destructuring-assignment/" title="ES6 Destructuring assignment">ES6 Destructuring assignment</a></li>
          
          
          <!---->
        
          <!-- match 를 false 로 초기화한다 -->
          <!---->
          
          <!-- 현재 page.categories === category 와 동일하다면. -->
          
              <li><a href="/blog/javascript/2016/02/24/es6-const/" title="ES6 const">ES6 const</a></li>
          
          
          <!---->
        
          <!-- match 를 false 로 초기화한다 -->
          <!---->
          
          <!-- 현재 page.categories === category 와 동일하다면. -->
          
              <li><a href="/blog/javascript/2016/02/23/es6-let/" title="ES6 let">ES6 let</a></li>
          
          
          <!---->
        
          <!-- match 를 false 로 초기화한다 -->
          <!---->
          
          <!-- 현재 page.categories === category 와 동일하다면. -->
          
              <li><a href="/blog/javascript/2016/02/18/es6-arrow-function/" title="ES6 Arrow Function & This Test">ES6 Arrow Function & This Test</a></li>
          
          
          <!---->
        
          <!-- match 를 false 로 초기화한다 -->
          <!---->
          
          <!-- 현재 page.categories === category 와 동일하다면. -->
          
              <li><a href="/blog/javascript/2016/02/15/es6-class/" title="ES6 Class #1">ES6 Class #1</a></li>
          
          
          <!---->
        
          <!-- match 를 false 로 초기화한다 -->
          <!---->
          
          <!-- 현재 page.categories === category 와 동일하다면. -->
          
              <li><a href="/blog/javascript/2016/02/01/select-box/" title="JQuery UI Select Box 구현">JQuery UI Select Box 구현</a></li>
          
          
          <!---->
        
      </ul>
    </div>
  </div>
</section>

<section class="comments">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'mohwa'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</section>



      <div class="separator"></div>
    </div>
  </div>
  <footer>
    <section>
  <ul class="links">
      <li><a href="https://twitter.com/yanione" title="follow me" target="_blank"><i class="icon-twitter"></i></a></li>
      <li><a href="https://github.com/mohwa" title="github page" target="_blank"><i class="icon-github"></i></a></li>
  </ul>
<section>

  </footer>
  <script>
    <!-- Google Analytics -->
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-30470280-2', 'auto');
    ga('send', 'pageview');

    // include jekyll full text search
    // https://github.com/christian-fei/Simple-Jekyll-Search
    SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('results-container'),
      json: '/blog/search.json',
      searchResultTemplate: '<li><a href="{href}">{title}</a>&nbsp;&nbsp;&nbsp;{date}</li>',
      noResultsText: 'No results found'
    });

  </script>
  <script src="http://b.readtrend.com/j/s.js"></script>
</body>
</html>
