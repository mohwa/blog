<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <meta name="keywords" content="yeoman">
    

    <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon" />

    <link rel="stylesheet" href="/blog/assets/css/site.css" />
    <link rel="stylesheet" href="/blog/bower_components/highlightjs/styles/darkula.css">

    <script src="/blog/bower_components/jquery/dist/jquery.min.js" type="text/javascript"></script>
    <script src="/blog/bower_components/highlightjs/highlight.pack.min.js" type="text/javascript"></script>
    <!-- Script pointing to jekyll-search.js -->
    <script src="/blog/bower_components/simple-jekyll-search/dest/jekyll-search.js" type="text/javascript"></script>

    <title>Yeoman-Generator</title>

    <script type="text/javascript">

        // code highlight 적용
        // https://highlightjs.org/static/demo/
        $(document).ready(function() {
            $('pre code').each(function(i, block) {
                hljs.highlightBlock(block);
            });
        });
    </script>
</head>

<body>

  <div class="top-bar"></div>

  <div class="container">
    <div class="site">
      <header>
        <nav>
    <span style="float:left;">
        <a class="" href="/blog">Home</a>
        <!--<a class="" href="/archive/">전체글</a>-->
        <!--<a class="" href="//github.com/nolboo/nolboo.github.io/wiki">번역글 위키</a>-->
    </span>
    <span style="float:right;">
        <div id="search-container" class="search-container">
            <input type="text" id="search-input" class="search-input" placeholder="search...">
        </div>
    </span>
</nav>
        <div class="pull-right right logo">
          <div class="name"></div>
          <!--<a href="/feed.xml"><img class="avatar" src="/images/rss.jpg" alt="RSS" /></a>-->
        </div>
      </header>
      <div class="separator"></div>
      <ul id="results-container" class="results-container"></ul>
      <article>
  <h1>
    Yeoman-Generator
  </h1>
  <div class="center">
    <p class="meta">02 Oct 2015</p>
  </div>



  <div class="post">
  <h2>1. 문서 내용에 대해</h2>

<ul>
<li><p>이 문서에서는 <strong>Yeoman</strong> 을 통해 자신만의 <strong>app generator</strong> 모듈을 생성하는 방법에 대해 알아볼 것이다.</p></li>
<li><p><strong>Yeoman</strong> 은 <a href="http://yeoman.io/">공식 홈페이지</a>를 통해, 이를 시작하기 위한 내용을 제공하고있다.</p>

<ul>
<li><a href="http://yeoman.io/authoring/">WRITING YOUR OWN YEOMAN GENERATOR</a></li>
</ul></li>
<li><p>이 문서의 내용은 <strong>MAC 환경</strong>을 기준으로 작성되어있다.</p></li>
</ul>

<h2>2 app generator 개발 환경 구축</h2>

<ul>
<li><p><a href="https://github.com/yeoman/generator-generator">generator-generator</a> 모듈은 사용자가 자신만의 <strong>app generator</strong> 모듈을 개발할때, 그 기반 설계를 도와주는 <strong>Yeoman generator</strong> 모듈 중 하나이다.</p>

<ul>
<li>반드시 이 구조를 따라갈 필요는 없겠지만, <strong>generator-generator</strong> 모듈은 어차피 <u>기본 골격만 제공하므로,</u> 해당되는 부분에 대해서는 동일하게 따라가도 좋을 듯 하다.</li>
</ul></li>
<li><p><strong>generator-generator</strong> 모듈을 설치한다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">sudo</span> <span class="nx">npm</span> <span class="nx">install</span> <span class="o">-</span><span class="nx">g</span> <span class="nx">generator</span><span class="o">-</span><span class="nx">generator</span>
</code></pre></div></li>
<li><p>설치된 <strong>generator-generator</strong> 모듈을 통해 생성할 <strong>app generator</strong> 모듈의 <u><strong>기반</strong>을 생성한다</u>.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"> <span class="nx">yo</span> <span class="nx">generator</span>
</code></pre></div>
<p><img src="http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_1.jpg" alt=""></p></li>
<li><p>생성할 <strong>app generator</strong> 모듈의 <strong>[base-name]</strong> 을 위와 같이 <strong>입력</strong> 후 설치를 완료하면, 입력한 <strong>[base-name]</strong> 을 기준으로 현재 위치에 <strong>app generator</strong> 모듈 폴더(<span style="color:#c11f1f">./generator-cmtech</span>)가 생성된다.</p>

<ul>
<li>[base-name]: <span style="color:#c11f1f">cmtech</span></li>
</ul>

<p><img src="http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_2.jpg" alt=""></p></li>
<li><p>생성된 <strong>app generator</strong> 모듈 폴더(<span style="color:#c11f1f">./generator-cmtech</span>) <strong>이름</strong>은 아래와 같은 형식으로 <strong>생성</strong>되며, <strong>Yeoman</strong> 은 이후 <code>yo [base-name]</code> 명령 실행 시 이 <strong>[base-name]</strong> 이 기준이된 <strong>app generator</strong> 모듈 폴더를 File system 상에서 찾아 실행하게될것이다.</p>

<ul>
<li>생성된 <strong>app generator</strong> 모듈 폴더 이름: generator-<span style="color:#c11f1f">[base-name]</span></li>
<li><strong>app generator</strong> 모듈 설치 명령: yo <span style="color:#c11f1f">[base-name]</span></li>
</ul></li>
<li><p>개발중인 <strong>app generator</strong> 모듈을 <strong>링크</strong>를 통해 설치한다.</p>

<ul>
<li>정확히 말하면 <strong>사용자 시스템</strong>의 <strong>global node module</strong> 위치에, 개발중인 <strong>app generator</strong> 모듈(<span style="color:#c11f1f">./generator-cmtech</span>) 폴더의 <strong>링크</strong>를 만들어, <u><strong>npm</strong> 모듈을 설치하는것과같은, 환경을 만들어주는것이다.</u></li>
<li><p>먼저 <strong>global node module</strong>(<span style="color:#c11f1f">/usr/local/lib/node_modules</span>) 위치로 이동하여, 생성된 <strong>app generator</strong> 모듈 폴더를 <strong>링크</strong> 한다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="c1">// global node module 위치로 이동한다.</span>
  <span class="nx">cd</span> <span class="o">/</span><span class="nx">usr</span><span class="o">/</span><span class="nx">local</span><span class="o">/</span><span class="nx">lib</span><span class="o">/</span><span class="nx">node_modules</span>

  <span class="c1">// app generator 모듈 폴더를 심볼릭 링크한다.</span>
  <span class="nx">sudo</span> <span class="nx">ln</span> <span class="o">-</span><span class="nx">s</span> <span class="o">/</span><span class="nx">Users</span><span class="o">/</span><span class="nx">sgjeon</span><span class="o">/</span><span class="nx">htdocs</span><span class="o">/</span><span class="nx">gitrepos</span><span class="o">/</span><span class="nx">generator</span><span class="o">-</span><span class="nx">cmtech</span> <span class="nx">generator</span><span class="o">-</span><span class="nx">cmtech</span>
</code></pre></div>
<p>그 다음 <strong>npm list</strong> 명령을 통해 <strong>app generator</strong> 모듈이 제대로 <strong>설치</strong>(<span style="color:#c11f1f">링크</span>)되었는지 확인해본다.</p>

<p><img src="http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_4.jpg" alt=""></p>

<p>확인되었다면, <code>yo [base-name]</code> 명령을 통해, <strong>app generator</strong> 모듈이 제대로 설치되는지 확인한다.</p>

<p><img src="http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_5.jpg" alt=""></p></li>
</ul></li>
</ul>

<h2>3. app generator 개발 포인트</h2>

<ul>
<li><p><strong>package.json</strong> 파일 설정</p>

<ul>
<li><p>아래는 <strong>app generator 모듈</strong> 폴더안의 <strong>package.json</strong> 파일 내용이다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;generator-cmtech&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="o">:</span> <span class="s2">&quot;0.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="o">:</span> <span class="s2">&quot;cmtech generator&quot;</span><span class="p">,</span>
    <span class="s2">&quot;license&quot;</span><span class="o">:</span> <span class="s2">&quot;MIT&quot;</span><span class="p">,</span>
    <span class="s2">&quot;main&quot;</span><span class="o">:</span> <span class="s2">&quot;app/index.js&quot;</span><span class="p">,</span>
    <span class="s2">&quot;repository&quot;</span><span class="o">:</span> <span class="s2">&quot;mohwa/generator-cmtech&quot;</span><span class="p">,</span>
    <span class="s2">&quot;author&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;mucha&quot;</span><span class="p">,</span>
    <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;url&quot;</span><span class="o">:</span> <span class="s2">&quot;https://github.com/mohwa&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;scripts&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;test&quot;</span><span class="o">:</span> <span class="s2">&quot;mocha&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;files&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="s2">&quot;generators&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;keywords&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="s2">&quot;yeoman-generator&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;dependencies&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;yeoman-generator&quot;</span><span class="o">:</span> <span class="s2">&quot;^0.19.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;chalk&quot;</span><span class="o">:</span> <span class="s2">&quot;^1.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;yosay&quot;</span><span class="o">:</span> <span class="s2">&quot;^1.0.2&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;devDependencies&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;mocha&quot;</span><span class="o">:</span> <span class="s2">&quot;*&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div></li>
<li><p><strong>name</strong> property 는 반드시 <span style="color:#c11f1f">generator-</span> 라는 <strong>접두사</strong>를 가져야한다.</p>

<ul>
<li>예: <span style="color:#c11f1f">generator-</span>cmtech</li>
</ul></li>
<li><p><strong>Yeoman</strong> 에서 제공하는 <a href="http://yeoman.io/generators/">generator-page</a> 에 listed 되기 위해서는 <strong>keywords</strong> property 와 <strong>description</strong> property 를 반드시 서술해야한다.</p>

<ul>
<li><strong>keywords</strong> property 에는 예제와 같이 &quot;<strong>yeoman-generator</strong>&quot; 를 할당해준다.</li>
</ul></li>
</ul></li>
<li><p><strong>Folder tree</strong></p>

<ul>
<li><strong>Yeoman</strong> 은 아래와 같은 두 가지 <strong>폴더 구조</strong>를 제공하고있다.</li>
<li><p><span style="color:#c11f1f">./</span> 폴더 내부로 가용한 <strong>default generator</strong> 및 <strong>sub-generator</strong> 를 만들어내는 구조</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="err">├───</span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span>
<span class="err">├───</span><span class="nx">app</span><span class="o">/</span>
<span class="err">│</span>   <span class="err">└───</span><span class="nx">index</span><span class="p">.</span><span class="nx">js</span>
<span class="err">└───</span><span class="nx">router</span><span class="o">/</span>
  <span class="err">└───</span><span class="nx">index</span><span class="p">.</span><span class="nx">js</span>
</code></pre></div></li>
<li><p><span style="color:#c11f1f">./generators</span> 폴더 내부로 가용한 <strong>default generator</strong> 및 <strong>sub-generator</strong> 를 만들어내는 구조(개인적으로 이 <strong>폴더 구조</strong>를 선호한다)</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="err">├───</span><span class="kr">package</span><span class="p">.</span><span class="nx">json</span>
<span class="err">└───</span><span class="nx">generators</span><span class="o">/</span>
  <span class="err">├───</span><span class="nx">app</span><span class="o">/</span>
  <span class="err">│</span>   <span class="err">└───</span><span class="nx">index</span><span class="p">.</span><span class="nx">js</span>
  <span class="err">└───</span><span class="nx">router</span><span class="o">/</span>
    <span class="err">└───</span><span class="nx">index</span><span class="p">.</span><span class="nx">js</span>
</code></pre></div></li>
<li><p><strong>default generator</strong> 및 <strong>sub-generator</strong> 호출 방법</p>

<ul>
<li><p><strong>default generator</strong> 호출 방법</p>

<ul>
<li><code>yo <span style="color:#c11f1f">[base-name]</span></code> <strong>명령</strong>으로 실행하며, 이로인해 <strong>./generators/app/</strong> 디렉토리 안의 <span style="color:#c11f1f">index.js</span> 파일이 호출된다.</li>
<li>예: yo <span style="color:#c11f1f">cmtech</span></li>
</ul></li>
<li><p><strong>sub-generators</strong> 호출 방법</p>

<ul>
<li> <code>yo [base-name]:<span style="color:#c11f1f">[sub-command]</span></code> <strong>명령</strong>으로 실행하며, 이로인해 <strong>./generators/[sub-command]/</strong> 디렉토리 안의 <span style="color:#c11f1f">index.js</span> 파일이 호출된다.</li>
<li>예: yo cmtech:<span style="color:#c11f1f">router</span></li>
</ul></li>
</ul></li>
</ul></li>
<li><p><strong>base generator</strong> 확장하기</p>

<ul>
<li><p><span style="color:#c11f1f">yeoman-generator</span> <strong>모듈</strong>을 통해 <strong>base generator</strong> 를 생성할 수 있으며, 이것을 <strong>확장</strong>하여 자신만의 <strong>app generator</strong> 모듈 기능을 만들어낸다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="c1">// app/index.js 내부</span>

  <span class="c1">// base generator 를 생성한다.</span>
  <span class="kd">var</span> <span class="nx">generators</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;yeoman-generator&#39;</span><span class="p">);</span>

  <span class="c1">// base generator 를 확장한다.</span>
  <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">generators</span><span class="p">.</span><span class="nx">Base</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>

      <span class="nx">constructor</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

      <span class="nx">generators</span><span class="p">.</span><span class="nx">Base</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>

      <span class="c1">// This makes `appRootFolder` a required argument.</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">argument</span><span class="p">(</span><span class="s1">&#39;appRootDir&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="nb">String</span><span class="p">,</span> <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span> <span class="p">});</span>

      <span class="p">}</span>
  <span class="p">});</span>
</code></pre></div></li>
</ul></li>
<li><p><a href="http://blog.naver.com/aron01/60006767632">Overwriting</a>(기존 <strong>property</strong> 를 다시쓰는 행위) the constructor</p>

<ul>
<li>특정 <strong>generator</strong> 메서드들은 <strong>constructor function</strong> 내부에서만 호출해야한다. 만약 그렇지 않을경우, 해당 <strong>기능</strong>이 완벽히 수행되지 않을 수 있다.</li>
<li>예를들어, 사용자가 <strong>Command Line</strong> 을 통해 입력한 <strong>arguments</strong> 를 처리하는 <span style="color:#c11f1f">this.argument</span> 메서드 <strong>호출</strong> 시, <u>해당 코드가 호출되는 <strong>위치</strong>에 따라 다른 <strong>결과</strong>를 반환되게된다.</u></li>
<li><p>먼저 <strong>테스트</strong>위해 <code>yo cmtech --help</code> 명령을 실행한다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// cmtech generator 를 --help 옵션과 함께 실행한다.</span>
<span class="nx">yo</span> <span class="nx">cmtech</span> <span class="o">--</span><span class="nx">help</span>
</code></pre></div></li>
<li><p>argument 메서드가 <strong>constructor function</strong> 내부에서 호출된 경우.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// base generator 를 확장한다.</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">generators</span><span class="p">.</span><span class="nx">Base</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>

    <span class="nx">constructor</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">generators</span><span class="p">.</span><span class="nx">Base</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>

    <span class="c1">// This makes `appRootFolder` a required argument.</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">argument</span><span class="p">(</span><span class="s1">&#39;appRootDir&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="nb">String</span><span class="p">,</span> <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span> <span class="p">});</span>

    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p><strong>Yeoman</strong> 이 <strong>arguments</strong> 에 대한 상세 <strong>도움말</strong>을 제공해준다.</p>

<p><img src="http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_6.jpg?1" alt=""></p>

<p>argument 메서드가 <strong>constructor function</strong> 외부에서 호출된 경우.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// base generator 를 확장한다.</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">generators</span><span class="p">.</span><span class="nx">Base</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>

    <span class="nx">initializing</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">argument</span><span class="p">(</span><span class="s1">&#39;appRootDir&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="nb">String</span><span class="p">,</span> <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span> <span class="p">});</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p><strong>arguments</strong> 에 대한 <strong>도움말</strong>이 제공되지 않는다.</p>

<p><img src="http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_7.jpg?1" alt=""></p></li>
</ul></li>
<li><p><strong>GENERATOR RUNTIME CONTEXT</strong></p>

<ul>
<li><p>The <strong>run loop</strong></p>

<ul>
<li><p><strong>Yeoman</strong> 은 <strong>run loop</strong> 라는 <strong>queue system</strong> 을 가지며, 이것은 실행하려는 <u>메서드 <strong>그룹</strong></u>에 대한 <strong>우선 순위</strong>를 제공해준다.</p>

<ul>
<li>또한 <strong>run loop</strong> 다루기위해 <a href="https://github.com/SBoudrias/grouped-queue">Grouped-queue</a> 라는 모듈을 사용하고있다.</li>
</ul></li>
<li><p>이 <strong>우선 순위</strong>는 <strong>Yeoman</strong> 이 제공하는 <u>특별한 프로토타입 <strong>메서드 이름</strong>(<span style="color:#c11f1f">priority name</span>)</u>으로만 사용된다.</p>

<ul>
<li><strong>Yeoman</strong> 이 제공하는 <span style="color:#c11f1f">priority name</span> 리스트는 아래와 같다.</li>
</ul>

<p><img src="http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_11.jpg?1" alt=""></p></li>
<li><p><span style="color:#c11f1f">priority name</span> 일 경우.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="s1">&#39;use strict&#39;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">yeoman</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;yeoman-generator&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">chalk</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;chalk&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">yosay</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;yosay&#39;</span><span class="p">);</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">yeoman</span><span class="p">.</span><span class="nx">generators</span><span class="p">.</span><span class="nx">Base</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>

  <span class="nx">initializing</span><span class="o">:</span> <span class="p">{</span>
  <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;call by init method 1&#39;</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">end</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;call by end method 2&#39;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></li>
<li><p>정의된 <strong>메서드</strong> 그룹이 전부 실행된다.</p>

<p><img src="http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_8.jpg?1" alt=""></p></li>
<li><p><span style="color:#c11f1f">priority name</span> 이 아닐경우.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="s1">&#39;use strict&#39;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">yeoman</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;yeoman-generator&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">chalk</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;chalk&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">yosay</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;yosay&#39;</span><span class="p">);</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">yeoman</span><span class="p">.</span><span class="nx">generators</span><span class="p">.</span><span class="nx">Base</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>

  <span class="nx">custom_method</span><span class="o">:</span> <span class="p">{</span>
  <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;call by init method 1&#39;</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">end</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;call by end method 2&#39;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>정의된 <strong>메서드</strong>가 실행되지 않는다.</p>

<p><img src="http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_9.jpg?1" alt=""></p>

<p>또한 <span style="color:#c11f1f">priority name</span> 이 아닐경우, 아래와 같이 <strong>Object</strong> 가 아닌 <strong>Function</strong> 타입으로 정의해야한다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="s1">&#39;use strict&#39;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">yeoman</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;yeoman-generator&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">chalk</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;chalk&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">yosay</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;yosay&#39;</span><span class="p">);</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">yeoman</span><span class="p">.</span><span class="nx">generators</span><span class="p">.</span><span class="nx">Base</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">custom_method</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;call by custom_method method&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p><img src="http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_10.jpg?1" alt=""></p>

<p><a href="http://yeoman.io/authoring/running-context.html">http://yeoman.io/authoring/running-context.html</a></p></li>
</ul></li>
</ul></li>
<li><p><strong>Template</strong> 엔진 사용하기</p>

<ul>
<li><p><strong>Yeoman</strong> 은 <a href="http://ejs.co/">ejs template</a> 엔진을 사용하며, <a href="https://github.com/sboudrias/mem-fs-editor#copytplfrom-to-context-settings">copyTpl</a> 메서드와 같은 템플릿 관련 메서드들을 제공하고 있다.</p>

<ul>
<li><a href="http://yeoman.io/generator/actions_actions.html">http://yeoman.io/generator/actions_actions.html</a></li>
<li><p>아래 코드는 <strong>메서드</strong> 사용에 대한 간단한 <strong>예제</strong>이며, <strong>.html</strong> 파일외에, <strong>APP</strong> 을 구성하는 기반 파일인 <strong>_package.json</strong> 또는 <strong>_gruntfile.js</strong> 와 같은 파일에도 동일하게 적용할 수 있다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">generators</span><span class="p">.</span><span class="nx">Base</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
    <span class="nx">writing</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">fs</span><span class="p">.</span><span class="nx">copyTpl</span><span class="p">(</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">templatePath</span><span class="p">(</span><span class="s1">&#39;index.html&#39;</span><span class="p">),</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">destinationPath</span><span class="p">(</span><span class="s1">&#39;public/index.html&#39;</span><span class="p">),</span>
      <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Templating with Yeoman&#39;</span> <span class="p">}</span>
    <span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></li>
<li><p>template 엔진을 통해 아래와 같이 <strong>출력</strong>된다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">html</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">head</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">title</span><span class="o">&gt;</span><span class="nx">Templating</span> <span class="kd">with</span> <span class="nx">Yeoman</span><span class="o">&lt;</span><span class="err">/title&gt;</span>
  <span class="o">&lt;</span><span class="err">/head&gt;</span>
<span class="o">&lt;</span><span class="err">/html&gt;</span>
</code></pre></div></li>
<li><p>추가적으로 <strong>의존성</strong>을 관리하는 파일인 <strong>_bower.json</strong> 파일에 적용된 내용이다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;%</span> <span class="kd">var</span> <span class="nx">ngVer</span> <span class="o">=</span> <span class="s2">&quot;1.2.26&quot;</span> <span class="o">%&gt;</span>
<span class="p">{</span>
  <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;&lt;%= env.appName %&gt;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;description&quot;</span><span class="o">:</span> <span class="s2">&quot;&lt;%= env.appName %&gt; package manager&quot;</span><span class="p">,</span>
  <span class="s2">&quot;homepage&quot;</span><span class="o">:</span> <span class="s2">&quot;http://www.cmt-korea.com/&quot;</span><span class="p">,</span>
  <span class="s2">&quot;author&quot;</span><span class="o">:</span> <span class="p">{</span>
  <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;sgjeon&quot;</span>
  <span class="p">},</span>

  <span class="s2">&quot;ignore&quot;</span><span class="o">:</span> <span class="p">[</span>
  <span class="s2">&quot;**/.*&quot;</span><span class="p">,</span>
  <span class="s2">&quot;node_modules&quot;</span><span class="p">,</span>
  <span class="s2">&quot;bower_components&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;dependencies&quot;</span><span class="o">:</span> <span class="p">{</span>
  <span class="p">},</span>
  <span class="s2">&quot;devDependencies&quot;</span><span class="o">:</span> <span class="p">{</span>
  <span class="s2">&quot;angular&quot;</span><span class="o">:</span> <span class="s2">&quot;&lt;%= ngVer %&gt;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;angular-animate&quot;</span><span class="o">:</span> <span class="s2">&quot;&lt;%= ngVer %&gt;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;angular-cookies&quot;</span><span class="o">:</span> <span class="s2">&quot;&lt;%= ngVer %&gt;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;angular-route&quot;</span><span class="o">:</span> <span class="s2">&quot;&lt;%= ngVer %&gt;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;angular-resource&quot;</span><span class="o">:</span> <span class="s2">&quot;&lt;%= ngVer %&gt;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;angular-sanitize&quot;</span><span class="o">:</span> <span class="s2">&quot;&lt;%= ngVer %&gt;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;requirejs&quot;</span><span class="o">:</span> <span class="s2">&quot;2.1.14&quot;</span><span class="p">,</span>
  <span class="s2">&quot;jquery&quot;</span><span class="o">:</span> <span class="s2">&quot;2.1.1&quot;</span><span class="p">,</span>
  <span class="s2">&quot;malihu-custom-scrollbar-plugin&quot;</span><span class="o">:</span> <span class="s2">&quot;3.0.8&quot;</span><span class="p">,</span>
  <span class="s2">&quot;jquery-ui&quot;</span><span class="o">:</span> <span class="s2">&quot;1.11.2&quot;</span><span class="p">,</span>
  <span class="s2">&quot;json3&quot;</span><span class="o">:</span> <span class="s2">&quot;3.3.2&quot;</span><span class="p">,</span>
  <span class="s2">&quot;linqjs&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;xml2json&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;purl&quot;</span><span class="o">:</span> <span class="s2">&quot;2.3.1&quot;</span><span class="p">,</span>
  <span class="s2">&quot;jquery-mousewheel&quot;</span><span class="o">:</span> <span class="s2">&quot;3.0.6&quot;</span><span class="p">,</span>
  <span class="s2">&quot;socket.io-client&quot;</span><span class="o">:</span> <span class="s2">&quot;1.3.5&quot;</span><span class="p">,</span>
  <span class="s2">&quot;console.image&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;enquire&quot;</span><span class="o">:</span> <span class="s2">&quot;2.1.2&quot;</span><span class="p">,</span>
  <span class="s2">&quot;angular-local-storage&quot;</span><span class="o">:</span> <span class="s2">&quot;0.1.5&quot;</span><span class="p">,</span>
  <span class="s2">&quot;matchMedia&quot;</span><span class="o">:</span> <span class="s2">&quot;0.2.0&quot;</span><span class="p">,</span>
  <span class="s2">&quot;jquery.browser&quot;</span><span class="o">:</span> <span class="s2">&quot;0.0.7&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></li>
</ul></li>
</ul></li>
<li><p>전역 <strong>configurations</strong> 파일 관리하기</p>

<ul>
<li><strong>Yeoman</strong> 은 숨김 파일인 <strong>.yo-rc.json</strong> 파일을 통해 전역 <strong>configurations</strong> 을 관리할 수 있으며, 또 그것을 관리하기 위한 <a href="http://yeoman.io/generator/Storage.html">Yeoman Storage API</a> 를 제공하고있다.</li>
<li><p>아래는 기본적인 <strong>.yo-rc.json</strong> 파일 구조이다.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="p">{</span>
    <span class="s2">&quot;generator-cmtech&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;key&quot;</span><span class="o">:</span> <span class="s2">&quot;value&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div></li>
</ul></li>
</ul>

<h2>4. 정리하며</h2>

<ul>
<li><p>아래 URL 은 현재 개발중인 사이트(<strong>AngularJS</strong> 사용)의 <strong>app generator</strong> 초기 버전이며, <strong>설계</strong>시 참고할 수 있을 듯하여 공유드립니다.(현재는 테스트 버전입니다)</p>

<ul>
<li><a href="https://github.com/mohwa/generator-cmtech">generator-cmtech</a></li>
<li><a href="http://yeoman.io/generator/">Yeoman generator API documentation</a></li>
</ul></li>
</ul>

  </div>
  <ul class="tags post-tags cf">
    
  </ul>
</article>

<section class="post-footer">
  <!--<a href="/feed.xml" class="pull-right">-->
    <!--<img src="/images/rss.jpg" alt="RSS" />-->
  <!--</a>-->
</section>
<div class="separator"></div>

<section class="comments">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'mohwa'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</section>

      <div class="separator"></div>
    </div>
  </div>
  <footer>
    <!--<p>-->
    <!--Powered by <a href="http://jekyllrb.com/">Jekyll</a>,-->
    <!--hosted on <a href="http://pages.github.com/">Github Pages</a>-->
    <!--| Template inspired by <a href="http://sebastien.saunier.me/">sebastien.saunier.me</a>-->
<!--</p>-->
<ul class="links">
    <li><a href="https://twitter.com/yanione" title="follow me" target="_blank"><i class="icon-twitter"></i></a></li>
    <li><a href="https://github.com/mohwa" title="github page" target="_blank"><i class="icon-github"></i></a></li>
</ul>
  </footer>
  <!-- Google Analytics -->
  <script>
//    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
//    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
//    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
//    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
//
//    ga('create', 'UA-42615434-1', 'nolboo.github.io');
//    ga('send', 'pageview');

    // include jekyll full text search
    SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('results-container'),
      json: '/blog/search.json',
      searchResultTemplate: '<li><a href="{href}">{title}</a>&nbsp;&nbsp;&nbsp;{date}</li>'
    });
  </script>
</body>
</html>
